{% extends "base-with-footer.html" %} {% block title %}Home{% endblock %}
{% block content %}

<style>
  .table-sm tr {
    text-align: left!important;
  }

#glw_table_btn1 {
    margin-left: 13px;
}

  #glw_table_btn2 {
    margin-left: 43px;
}

#current_games_table td, #current_games_table th {
  padding: 0.25rem;
}

</style>

<h1>
    Dashboard
</h1>
<br/>

<h4>
  <img src="./static/img/logo.png" style="padding-bottom: 5px; margin-right: 4px" width="30px" height="auto">
    Hallo {{ user_first_name }}!
    <img width="30px" height="auto" style="padding-bottom: 5px;" 
    src="./static/img/fussballspieler.png">
</h4>
<br/>

<div style="width: 300px; margin-left: auto; margin-right: auto; display: block;">
<button id="glw_table_btn1" class="btn btn-dark btn-lg" onclick="showHideElement('glw_table')">
  Tabelle<br/> <img style="width: 75px; height: 80px;" src="./static/img/table.png" alt="Tabelle">
  <br/>anzeigen
</button>
<a style="color: white; text-decoration: none;" href="https://bet-works.herokuapp.com/bet">
<button id="glw_table_btn2" class="btn btn-dark btn-lg" >
  Jetzt<br/><img style="width: 75px; height: 80px" src="./static/img/bet.png">
  <br/>tippen</a>
</button>
</div>

<br/>
<div id="glw_table" style="max-width: 330px; display: none; margin-left: auto; margin-right: auto;">
{% for table in glw_table %}
{{table|safe}}
{% endfor %}
</div>
<br/>
{%if number_of_active_games %}

<table id="current_games_table" class="btn table-responsive" style="text-align:left; background-color: #adb5bd">
<h5 align="left">Aktuelle Spiele:</h5>

    {% for game_active in games_active %}
    <tr>
       <td style="border: none!important;"> {{game_active.gameday}}. {{game_active.home_team}} vs. {{game_active.away_team}}</td>
      </tr>
    {%endfor%}
  </table>
<br/>
{% endif %}

{% if number_of_winners %}
  <h5>Gewinner deiner Tipps:</h5>
  {% for game in games_done %}
    {% if loop.index is divisibleby 2 %}
      <div style="background-color:#20c997d6; padding: 8px 8px 0px 8px; margin-bottom:0px; border-radius: .25rem!important;">
    {%else%}
      <div style="background-color:#ff7400b8; padding: 8px 8px 0px 8px; margin-bottom:0px; border-radius: .25rem!important;">
    {% endif %}
    <b>Gewinner</b><br/>{{game.home_team}} : {{game.away_team}} {{game.home_goals}} : {{game.away_goals}}<br/>

    <table class="table" id="table_home">
      <tr>  
          <th style="border: none;">Gewinner</th>
          <th style="border: none;">Tipp</th>
      </tr>
    {% for winner in winners %}
      {% if winner[1].id == game.id %}
          <tr>
            <td style="border-color: black; max-width: 95px;">{{ winner[0].participant }}</td>
            <td style="border-color: black;">{{winner[0].home_goals}} : {{winner[0].away_goals}}</td>
          </tr>
      {%endif%}
    {% endfor %}
    </table>
    </div>

  {%endfor%}
{% endif %}
{% endblock %}
